.features__tabs-container {
  position: relative;
}

.features__tabs {
  bottom: 40px;
  display: flex;
  flex-wrap: wrap;
  left: 50%;
  margin-left: -4px;
  position: absolute;
  transform: translateX(-50%);
  z-index: 1;
}

.features__tab {
  margin-left: 8px;
}

.features__label {
  border-radius: 100%;
  cursor: pointer;
  display: block;

  &--focused {
    box-shadow: $focus-shadow;
  }

  &:active {
    opacity: 0.6;
  }
}

.features__panel-container {
  overflow: hidden;
  position: relative;
}

.features__panel {
  user-select: none;

  &--next {
    height: 100%;
    left: 50%;
    position: absolute;
    transform: translateX(-50%);
    top: 0;
    width: 100%;
    z-index: -1;
  }

  &--credits {
    background-color: $blue-color-main;
    background-size: 100% 100%;
    background-image: url("../img/main/blocks--lg.svg");
    background-repeat: no-repeat;

    color: #e0e1ea;
  }

  &--confidence {
    background-color: #dee2ed;
    background-image: linear-gradient(to bottom right, #dee2ed, #f6fbff);
  }

  &--near {
    background-color: #e7f1fd;
  }

  &--sliding {
    transition: transform 0.3s ease-in;
  }
}

.features__panel-wrapper {
  &--credits {
    background: url("../img/main/cards@1x--lg.png") left 698px top 53.5% / auto
      286px no-repeat;

    @include mret() {
      background-image: url("../img/main/cards@2x--lg.png");
    }
  }

  &--confidence {
    background: url("../img/main/man@1x--lg.png") left 781px center / auto 400px
      no-repeat;

    @include mret() {
      background-image: url("../img/main/man@2x--lg.png");
    }
  }

  &--near {
    background: url("../img/main/girl@1x--lg.png") left 775px center / auto
      400px no-repeat;

    @include mret() {
      background-image: url("../img/main/girl@2x--lg.png");
    }
  }
}

.features__content-wrapper {
  align-items: flex-start;
  display: flex;
  flex-direction: column;
  max-width: 500px;
  min-height: 400px;
  padding: 96px 0 110px;
}

.features__panel p {
  margin: 0;
  letter-spacing: -0.005em;
}

.features__panel .features__title {
  font-size: 5.4rem;
  font-weight: bold;
  letter-spacing: 0;
  margin-bottom: 1px;

  color: $text-color-primary;

  &--credits {
    color: $bg-color-primary;
  }
}

.features__link {
  margin-top: 3.1rem;
  min-width: 234px;

  &--light {
    background-color: $bg-color-primary;
    color: $text-color-primary;
  }

  &--light:hover {
    color: $text-color-primary;
  }

  &--light:focus {
    color: $text-color-primary;
  }

  &--near {
    min-width: 243px;
  }
}

@include mq(tablet) {
  .features__tabs {
    bottom: 15px;
  }

  .features__panel--credits {
    background-size: auto;
    background-position: right bottom;
    background-image: url("../img/main/blocks--md.svg");
  }

  .features__panel-wrapper {
    &--credits {
      background: url("../img/main/cards@1x--md.png") left 85% top 55.5% / auto
        232px no-repeat;

      @include mret() {
        background-image: url("../img/main/cards@2x--md.png");
      }
    }

    &--confidence {
      background: url("../img/main/man@1x--md.png") left 86% center/ auto 300px
        no-repeat;

      @include mret() {
        background-image: url("../img/main/man@2x--md.png");
      }
    }

    &--near {
      background: url("../img/main/girl@1x--md.png") left 90% center/ auto 300px
        no-repeat;

      @include mret() {
        background-image: url("../img/main/girl@2x--md.png");
      }
    }
  }

  .features__content-wrapper {
    max-width: 340px;
    min-height: 300px;
    padding: 60px 0 70px;
  }

  .features__panel p {
    font-size: 1.8rem;
  }

  .features__panel .features__title {
    font-size: 4.6rem;
    margin-bottom: 0;
  }

  .features__link {
    margin-top: 2.7rem;
    min-width: 206px;
  }
}

@include mq(phone) {
  .features__tabs {
    bottom: 10px;
    margin-left: -3px;
  }

  .features__panel--credits {
    background-image: none;
  }

  .features__tab {
    margin-left: 6px;
  }

  .features__panel-wrapper {
    &--credits {
      background: url("../img/main/cards@1x--sm.png") left calc(40% + 227px) top
        45% / auto 190px no-repeat;

      @include mret() {
        background-image: url("../img/main/cards@2x--sm.png");
      }
    }

    &--confidence {
      background: url("../img/main/man@1x--sm.png") left calc(80% + 53px)
        center/ auto 226px no-repeat;

      @include mret() {
        background-image: url("../img/main/man@2x--sm.png");
      }
    }

    &--near {
      background: url("../img/main/girl@1x--sm.png") left calc(80% + 58px)
        center/ auto 226px no-repeat;

      @include mret() {
        background-image: url("../img/main/girl@2x--sm.png");
      }
    }
  }

  .features__content-wrapper {
    max-width: 210px;
    min-height: 226px;
    padding: 35px 0 45px;
  }

  .features__panel p {
    font-size: 1.6rem;
  }

  .features__panel--confidence p {
    max-width: 14rem;
    line-height: 1.3;
  }

  .features__panel .features__title {
    font-size: 3.8rem;
    margin-bottom: 0.1rem;
    line-height: 1.4;
    max-width: 100%;
  }

  .features__link {
    margin-top: 2.4rem;
    min-width: 188px;
  }
}
